# Generated by Django 3.1.5 on 2021-09-21 08:59

import apps.users.models
from django.db import migrations


def migrate_provinces(apps, _):
    provinces_mapper = {
        "A CORUNA": "La Coruña",
        "ALAVA": "Álava",
        "ALBACETE": "Albacete",
        "ALICANTE": "Alicante",
        "ALMERIA": "Almería",
        "ASTURIAS": "Asturias",
        "AVILA": "Ávila",
        "BADAJOZ": "Badajoz",
        "BALEARS": "Baleares",
        "BARCELONA": "Barcelona",
        "BURGOS": "Burgos",
        "CACERES": "Cáceres",
        "CADIZ": "Cádiz",
        "CANTABRIA": "Cantabria",
        "CASTELLON": "Castellón",
        "CIUDAD REAL": "Ciudad Real",
        "CORDOBA": "Córdoba",
        "CUENCA": "Cuenca",
        "GIPUZKOA": "Guipúzcoa",
        "GIRONA": "Gerona",
        "GRANADA": "Granada",
        "GUADALAJARA": "Guadalajara",
        "HUELVA": "Huelva",
        "HUESCA": "Huesca",
        "JAEN": "Jaén",
        "LA RIOJA": "La Rioja",
        "LAS PALMAS": "Las Palmas",
        "LEON": "León",
        "LLEIDA": "Lérida",
        "LUGO": "Lugo",
        "MADRID": "Madrid",
        "MALAGA": "Málaga",
        "MURCIA": "Murcia",
        "NAVARRA": "Navarra",
        "OURENSE": "Orense",
        "PALENCIA": "Palencia",
        "PONTEVEDRA": "Pontevedra",
        "SALAMANCA": "Salamanca",
        "SANTA CRUZ DE TENERIFE": "Santa Cruz de Tenerife",
        "SEGOVIA": "Segovia",
        "SEVILLA": "Sevilla",
        "SORIA": "Soria",
        "TARRAGONA": "Tarragona",
        "TERUEL": "Teruel",
        "TOLEDO": "Toledo",
        "VALENCIA": "Valencia",
        "VALLADOLID": "Valladolid",
        "VIZCAYA": "Vizcaya",
        "ZAMORA": "Zamora",
        "ZARAGOZA": "Zaragoza",
    }

    punto_model = apps.get_model("users", "Punto")
    for punto in punto_model.objects.filter(province__isnull=False):
        punto.province = provinces_mapper[punto.province]
        punto.save(update_fields=["province"])


class Migration(migrations.Migration):

    dependencies = [
        ("users", "0059_auto_20210820_0948"),
    ]

    operations = [
        migrations.RunPython(migrate_provinces, reverse_code=migrations.RunPython.noop),
        migrations.AlterField(
            model_name="punto",
            name="province",
            field=apps.users.models.MyCharField(
                blank=True,
                choices=[
                    ("Álava", "Álava"),
                    ("Albacete", "Albacete"),
                    ("Alicante", "Alicante"),
                    ("Almería", "Almería"),
                    ("Asturias", "Asturias"),
                    ("Ávila", "Ávila"),
                    ("Badajoz", "Badajoz"),
                    ("Baleares", "Baleares"),
                    ("Barcelona", "Barcelona"),
                    ("Burgos", "Burgos"),
                    ("Cáceres", "Cáceres"),
                    ("Cádiz", "Cádiz"),
                    ("Cantabria", "Cantabria"),
                    ("Castellón", "Castellón"),
                    ("Ceuta", "Ceuta"),
                    ("Ciudad Real", "Ciudad Real"),
                    ("Córdoba", "Córdoba"),
                    ("Cuenca", "Cuenca"),
                    ("Gerona", "Gerona"),
                    ("Granada", "Granada"),
                    ("Guadalajara", "Guadalajara"),
                    ("Guipúzcoa", "Guipúzcoa"),
                    ("Huelva", "Huelva"),
                    ("Huesca", "Huesca"),
                    ("Jaén", "Jaén"),
                    ("La Coruña", "La Coruña"),
                    ("La Rioja", "La Rioja"),
                    ("Las Palmas", "Las Palmas"),
                    ("León", "León"),
                    ("Lérida", "Lérida"),
                    ("Lugo", "Lugo"),
                    ("Madrid", "Madrid"),
                    ("Málaga", "Málaga"),
                    ("Melilla", "Melilla"),
                    ("Murcia", "Murcia"),
                    ("Navarra", "Navarra"),
                    ("Orense", "Orense"),
                    ("Palencia", "Palencia"),
                    ("Pontevedra", "Pontevedra"),
                    ("Salamanca", "Salamanca"),
                    ("Santa Cruz de Tenerife", "Santa Cruz de Tenerife"),
                    ("Segovia", "Segovia"),
                    ("Sevilla", "Sevilla"),
                    ("Soria", "Soria"),
                    ("Tarragona", "Tarragona"),
                    ("Teruel", "Teruel"),
                    ("Toledo", "Toledo"),
                    ("Valencia", "Valencia"),
                    ("Valladolid", "Valladolid"),
                    ("Vizcaya", "Vizcaya"),
                    ("Zamora", "Zamora"),
                    ("Zaragoza", "Zaragoza"),
                ],
                max_length=255,
                null=True,
                verbose_name="Province",
            ),
        ),
    ]
